<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <title>SeatMixxer – Indtast navne</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="logo">SeatMixxer</div>
    <h2>Trin 1: Indtast navne på elever</h2>
    <textarea id="names-input" placeholder="Skriv ét navn per linje..."></textarea>
    <div class="actions">
      <button id="save-names-btn" class="mix-btn">Gem og fortsæt</button>
    </div>
    <div id="msg" class="info-box"></div>
  </div>
  <script type="module">
    import { auth, saveUserData, requireLogin } from './firebase.js';
    requireLogin();
    document.getElementById('save-names-btn').onclick = async () => {
      const txt = document.getElementById('names-input').value.trim();
      const msg = document.getElementById('msg');
      msg.textContent = '';
      if (!txt) {
        msg.textContent = "Indtast mindst to navne.";
        return;
      }
      const names = txt.split('\n').map(x => x.trim()).filter(Boolean);
      if (names.length < 2) {
        msg.textContent = "Indtast mindst to navne.";
        return;
      }
      // Gem navne med ukendt køn
      await saveUserData({ students: names.map(name => ({ name, gender: "u" })) });
      window.location.href = "gender.html";
    };
  </script>
</body>
</html>
